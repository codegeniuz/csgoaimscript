/*! yt-player. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var $jscomp={scope:{},global:this,initSymbolIterator:function(){Symbol=$jscomp.global.Symbol||{},Symbol.iterator||(Symbol.iterator="$jscomp$iterator"),$jscomp.initSymbolIterator=function(){}},makeIterator:function(t){if($jscomp.initSymbolIterator(),t[Symbol.iterator])return t[Symbol.iterator]();if(!(t instanceof Array)&&"string"!=typeof t)throw Error();var e=0;return{next:function(){return e==t.length?{done:!0}:{done:!1,value:t[e++]}}}},inherits:function(t,e){function o(){}for(var r in o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t,e)if($jscomp.global.Object.defineProperties){var i=$jscomp.global.Object.getOwnPropertyDescriptor(e,r);void 0!==i&&$jscomp.global.Object.defineProperty(t,r,i)}else t[r]=e[r]}},EventEmitter=function(){this.events={}};EventEmitter.prototype.on=function(t,e){"object"!=typeof this.events[t]&&(this.events[t]=[]),this.events[t].push(e)},EventEmitter.prototype.removeListener=function(t,e){var o;"object"==typeof this.events[t]&&(-1<(o=indexOf(this.events[t],e))&&this.events[t].splice(o,1))},EventEmitter.prototype.emit=function(t){var e,o,r,i=[].slice.call(arguments,1);if("object"==typeof this.events[t])for(r=(o=this.events[t].slice()).length,e=0;e<r;e++)o[e].apply(this,i)},EventEmitter.prototype.once=function(t,e){this.on(t,(function o(){this.removeListener(t,o),e.apply(this,arguments)}))};var loadScript=function(t,e,o){return new Promise((function(r,i){var a=document.createElement("script");a.async=!0,a.src=t;for(var n=$jscomp.makeIterator(Object.entries(e||{})),s=n.next();!s.done;s=n.next())s=s.value,a.setAttribute(s[0],s[1]);a.onload=function(){a.onerror=a.onload=null,r(a)},a.onerror=function(){a.onerror=a.onload=null,i(Error("Failed to load "+t))},(o||document.head||document.getElementsByTagName("head")[0]).appendChild(a)}))},YOUTUBE_IFRAME_API_SRC="https://www.youtube.com/iframe_api",YOUTUBE_STATES={"-1":"unstarted",0:"ended",1:"playing",2:"paused",3:"buffering",5:"cued"},YOUTUBE_ERROR={INVALID_PARAM:2,HTML5_ERROR:5,NOT_FOUND:100,UNPLAYABLE_1:101,UNPLAYABLE_2:150},loadIframeAPICallbacks=[];YouTubePlayer=function(t,e){var o=this;EventEmitter.call(this);var r="string"==typeof t?document.querySelector(t):t;this._id=r.id?r.id:r.id="ytplayer-"+Math.random().toString(16).slice(2,8),this._opts=Object.assign({width:640,height:360,autoplay:!1,captions:void 0,controls:!0,keyboard:!0,fullscreen:!0,annotations:!0,modestBranding:!1,related:!0,timeupdateFrequency:1e3,playsInline:!0,start:0},e),this.videoId=null,this.destroyed=!1,this._api=null,this._autoplay=!1,this._player=null,this._ready=!1,this._queue=[],this._interval=null,this._startInterval=this._startInterval.bind(this),this._stopInterval=this._stopInterval.bind(this),this.on("playing",this._startInterval),this.on("unstarted",this._stopInterval),this.on("ended",this._stopInterval),this.on("paused",this._stopInterval),this.on("buffering",this._stopInterval),this._loadIframeAPI((function(t,e){if(t)return o._destroy(Error("YouTube Iframe API failed to load"));o._api=e,o.videoId&&o.load(o.videoId,o._autoplay,o._start)}))},$jscomp.inherits(YouTubePlayer,EventEmitter),YouTubePlayer.prototype.load=function(t,e,o){e=void 0!==e&&e,o=void 0===o?0:o,this.destroyed||(this.videoId=t,this._autoplay=e,this._start=o,this._api&&(this._player?this._ready&&(e?this._player.loadVideoById(t,o):this._player.cueVideoById(t,o)):this._createPlayer(t)))},YouTubePlayer.prototype.play=function(){this._ready?this._player.playVideo():this._queueCommand("play")},YouTubePlayer.prototype.pause=function(){this._ready?this._player.pauseVideo():this._queueCommand("pause")},YouTubePlayer.prototype.stop=function(){this._ready?this._player.stopVideo():this._queueCommand("stop")},YouTubePlayer.prototype.seek=function(t){this._ready?this._player.seekTo(t,!0):this._queueCommand("seek",t)},YouTubePlayer.prototype.setVolume=function(t){this._ready?this._player.setVolume(t):this._queueCommand("setVolume",t)},YouTubePlayer.prototype.getVolume=function(){return this._ready&&this._player.getVolume()||0},YouTubePlayer.prototype.mute=function(){this._ready?this._player.mute():this._queueCommand("mute")},YouTubePlayer.prototype.unMute=function(){this._ready?this._player.unMute():this._queueCommand("unMute")},YouTubePlayer.prototype.isMuted=function(){return this._ready&&this._player.isMuted()||!1},YouTubePlayer.prototype.setSize=function(t,e){this._ready?this._player.setSize(t,e):this._queueCommand("setSize",t,e)},YouTubePlayer.prototype.setPlaybackRate=function(t){this._ready?this._player.setPlaybackRate(t):this._queueCommand("setPlaybackRate",t)},YouTubePlayer.prototype.setPlaybackQuality=function(t){this._ready?this._player.setPlaybackQuality(t):this._queueCommand("setPlaybackQuality",t)},YouTubePlayer.prototype.getPlaybackRate=function(){return this._ready&&this._player.getPlaybackRate()||1},YouTubePlayer.prototype.getAvailablePlaybackRates=function(){return this._ready&&this._player.getAvailablePlaybackRates()||[1]},YouTubePlayer.prototype.getDuration=function(){return this._ready&&this._player.getDuration()||0},YouTubePlayer.prototype.getProgress=function(){return this._ready&&this._player.getVideoLoadedFraction()||0},YouTubePlayer.prototype.getState=function(){return this._ready&&YOUTUBE_STATES[this._player.getPlayerState()]||"unstarted"},YouTubePlayer.prototype.getCurrentTime=function(){return this._ready&&this._player.getCurrentTime()||0},YouTubePlayer.prototype.destroy=function(){this._destroy()},YouTubePlayer.prototype._destroy=function(t){this.destroyed||(this.destroyed=!0,this._player&&(this._player.stopVideo&&this._player.stopVideo(),this._player.destroy()),this._player=this._api=this._opts=this._id=this.videoId=null,this._ready=!1,this._queue=null,this._stopInterval(),this.removeListener("playing",this._startInterval),this.removeListener("paused",this._stopInterval),this.removeListener("buffering",this._stopInterval),this.removeListener("unstarted",this._stopInterval),this.removeListener("ended",this._stopInterval),t&&this.emit("error",t))},YouTubePlayer.prototype._queueCommand=function(t,e){for(var o=[],r=1;r<arguments.length;++r)o[r-1]=arguments[r];this.destroyed||this._queue.push([t,o])},YouTubePlayer.prototype._flushQueue=function(){for(;this._queue.length;){var t=this._queue.shift();this[t[0]].apply(this,t[1])}},YouTubePlayer.prototype._loadIframeAPI=function(t){if(window.YT&&"function"==typeof window.YT.Player)return t(null,window.YT);loadIframeAPICallbacks.push(t),Array.from(document.getElementsByTagName("script")).some((function(t){return t.src===YOUTUBE_IFRAME_API_SRC}))||loadScript(YOUTUBE_IFRAME_API_SRC).catch((function(t){for(;loadIframeAPICallbacks.length;)loadIframeAPICallbacks.shift()(t)}));var e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){for("function"==typeof e&&e();loadIframeAPICallbacks.length;)loadIframeAPICallbacks.shift()(null,window.YT)}},YouTubePlayer.prototype._createPlayer=function(t){var e=this;if(!this.destroyed){var o=this._opts;this._player=new this._api.Player(this._id,{width:o.width,height:o.height,videoId:t,host:o.host,playerVars:{autoplay:o.autoplay?1:0,hl:null!=o.captions&&!1!==o.captions?o.captions:void 0,cc_lang_pref:null!=o.captions&&!1!==o.captions?o.captions:void 0,controls:o.controls?2:0,enablejsapi:1,allowfullscreen:!0,iv_load_policy:o.annotations?1:3,modestbranding:o.modestBranding?1:0,origin:"*",rel:o.related?1:0,mode:"transparent",showinfo:0,html5:1,version:3,playerapiid:"iframe_YTP_1624972482514"},events:{onReady:function(){return e._onReady(t)},onStateChange:function(t){return e._onStateChange(t)},onPlaybackQualityChange:function(t){return e._onPlaybackQualityChange(t)},onPlaybackRateChange:function(t){return e._onPlaybackRateChange(t)},onError:function(t){return e._onError(t)}}})}},YouTubePlayer.prototype._onReady=function(t){this.destroyed||(this._ready=!0,this.load(this.videoId,this._autoplay,this._start),this._flushQueue())},YouTubePlayer.prototype._onStateChange=function(t){if(!this.destroyed){var e=YOUTUBE_STATES[t.data];if(!e)throw Error("Unrecognized state change: "+t);["paused","buffering","ended"].includes(e)&&this._onTimeupdate(),this.emit(e),["unstarted","playing","cued"].includes(e)&&this._onTimeupdate()}},YouTubePlayer.prototype._onPlaybackQualityChange=function(t){this.destroyed||this.emit("playbackQualityChange",t.data)},YouTubePlayer.prototype._onPlaybackRateChange=function(t){this.destroyed||this.emit("playbackRateChange",t.data)},YouTubePlayer.prototype._onError=function(t){if(!this.destroyed&&(t=t.data)!==YOUTUBE_ERROR.HTML5_ERROR){if(t===YOUTUBE_ERROR.UNPLAYABLE_1||t===YOUTUBE_ERROR.UNPLAYABLE_2||t===YOUTUBE_ERROR.NOT_FOUND||t===YOUTUBE_ERROR.INVALID_PARAM)return this.emit("unplayable",this.videoId);this._destroy(Error("YouTube Player Error. Unknown error code: "+t))}},YouTubePlayer.prototype._onTimeupdate=function(){this.emit("timeupdate",this.getCurrentTime())},YouTubePlayer.prototype._startInterval=function(){var t=this;this._interval=setInterval((function(){return t._onTimeupdate()}),this._opts.timeupdateFrequency)},YouTubePlayer.prototype._stopInterval=function(){clearInterval(this._interval),this._interval=null};